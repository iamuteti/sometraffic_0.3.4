import{_ as me}from"./nuxt-link.a4d01235.js";import{j as Ce,k as ce,r as G,a as pe,x as fe,q as ge,o as J,b as X,i as V,e as F,u as v,s as xe,h as s,t as d,B as Z,E as ae,N as ye,C as Le,F as $e,v as De,l as oe,m as Se}from"./entry.4d41dba5.js";import{u as le}from"./fetch.013f5933.js";import{m as be}from"./index.f023ee0f.js";import{D as Ie}from"./index.ae89bd94.js";const Ae=""+new URL("right-arrow.b7db5663.png",import.meta.url).href,Be=s("div",{class:"text"},"Are you sure?",-1),Me={class:"flex justify-between"},ze={class:"font-bold py-4 capitalize"},Ne=s("img",{style:{width:"20px","margin-top":"20px"},src:Ae,class:"tasks"},null,-1),je={class:"flex items-start"},qe={class:"flex border-2 rounded"},Ee={class:"relative"},Te=s("svg",{color:"#000",xmlns:"http://www.w3.org/2000/svg",node_modules:"",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),Ue=[Te],Ye=s("svg",{class:"w-6 h-6 text-slate-50",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})],-1),He=[Ye],Pe=s("div",{class:"flex items-center justify-center"},null,-1),Re={class:"overflow-x-auto"},Oe={class:"w-full whitespace-nowrap"},Ve=s("thead",{class:"bg-black/60"},[s("tr",null,[s("th",{class:"text-left py-3 px-2"},"Task ID"),s("th",{class:"text-left py-3 px-2"},"Item ID"),s("th",{class:"text-left py-3 px-2"},"Information"),s("th",{class:"text-left py-3 px-2"},"Category"),s("th",{class:"text-left py-3 px-2"},"Priority"),s("th",{class:"text-left py-3 px-2"},"Status"),s("th",{class:"text-left py-3 px-2"},"Due Date"),s("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1),Fe={class:"border-b border-gray-700",key:"clickdata.id"},Ke={class:"py-3 px-2"},Ge={class:"py-3 px-2"},We={class:"py-3 px-2"},Je={class:"py-3 px-2 capitalize"},Xe={class:"py-3 px-2 capitalize"},Ze={class:"py-3 px-2 capitalize"},Qe={class:"py-3 px-2 capitalize"},ke={class:"py-3 px-2"},we={class:"inline-flex items-center space-x-3"},et=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),tt=["onClick"],st=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),nt=[st],at={name:"TasksAll",props:["limit","showSearch","itemid"]},Gs=Object.assign(at,{props:{showSearch:Boolean,limit:Number,itemid:Number},setup(W){const ie=W,Q=Se(),k=Ce("$awn"),{id:K}=ce().query,h=G(!1),u=G([]),_=G([]),C=G(0),a=pe({vaClDa:K!==void 0?K:""}),{limit:te,itemid:w,showSearch:se}=fe(ie),ue=()=>{a.vaClDa="",_.value=u.value,C.value=u.value.length},ne=()=>{var t;_.value=(t=u==null?void 0:u._value)==null?void 0:t.filter(n=>{var r,l,m,c,p,f,g,x,y,L,$,D,S,b,I,A,B,M,z,N,j,q,E,T,U,Y,H,P,R,O,_e,ve,he;return((m=n.username.toLowerCase())==null?void 0:m.includes((l=(r=a.vaClDa)==null?void 0:r.toString())==null?void 0:l.toLowerCase()))||((c=n==null?void 0:n.task_id)==null?void 0:c.includes(a.vaClDa))||((p=n==null?void 0:n.Category_Item.unique_identifier)==null?void 0:p.includes(a.vaClDa))||((x=n==null?void 0:n.timestamp)==null?void 0:x.toLowerCase().includes((g=(f=a.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=n==null?void 0:n.information)==null?void 0:$.toLowerCase().includes((L=(y=a.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((b=n==null?void 0:n.status)==null?void 0:b.toLowerCase().includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((B=n==null?void 0:n.due_date_time)==null?void 0:B.toLowerCase().includes((A=(I=a.vaClDa)==null?void 0:I.toString())==null?void 0:A.toLowerCase()))||((j=(M=n==null?void 0:n.url_1_txt)==null?void 0:M.toLowerCase())==null?void 0:j.includes((N=(z=a.vaClDa)==null?void 0:z.toString())==null?void 0:N.toLowerCase()))||((U=(q=n==null?void 0:n.url_1_link)==null?void 0:q.toLowerCase())==null?void 0:U.includes((T=(E=a.vaClDa)==null?void 0:E.toString())==null?void 0:T.toLowerCase()))||((R=(Y=n==null?void 0:n.url_2_txt)==null?void 0:Y.toLowerCase())==null?void 0:R.includes((P=(H=a.vaClDa)==null?void 0:H.toString())==null?void 0:P.toLowerCase()))||((he=(O=n==null?void 0:n.url_2_link)==null?void 0:O.toLowerCase())==null?void 0:he.includes((ve=(_e=a.vaClDa)==null?void 0:_e.toString())==null?void 0:ve.toLowerCase()))}),C.value=_.value.length},ee=()=>{var t;_.value=(t=u==null?void 0:u._value)==null?void 0:t.filter(n=>{var r,l,m,c,p,f,g,x,y,L,$,D,S,b,I,A,B,M,z,N,j,q,E,T,U,Y,H,P,R,O,_e,ve,he;return((m=n.username.toLowerCase())==null?void 0:m.includes((l=(r=a.vaClDa)==null?void 0:r.toString())==null?void 0:l.toLowerCase()))||((c=n==null?void 0:n.task_id)==null?void 0:c.includes(a.vaClDa))||((p=n==null?void 0:n.Category_Item.unique_identifier)==null?void 0:p.includes(a.vaClDa))||((x=n==null?void 0:n.timestamp)==null?void 0:x.toLowerCase().includes((g=(f=a.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=n==null?void 0:n.information)==null?void 0:$.toLowerCase().includes((L=(y=a.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((b=n==null?void 0:n.status)==null?void 0:b.toLowerCase().includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((B=n==null?void 0:n.due_date_time)==null?void 0:B.toLowerCase().includes((A=(I=a.vaClDa)==null?void 0:I.toString())==null?void 0:A.toLowerCase()))||((j=(M=n==null?void 0:n.url_1_txt)==null?void 0:M.toLowerCase())==null?void 0:j.includes((N=(z=a.vaClDa)==null?void 0:z.toString())==null?void 0:N.toLowerCase()))||((U=(q=n==null?void 0:n.url_1_link)==null?void 0:q.toLowerCase())==null?void 0:U.includes((T=(E=a.vaClDa)==null?void 0:E.toString())==null?void 0:T.toLowerCase()))||((R=(Y=n==null?void 0:n.url_2_txt)==null?void 0:Y.toLowerCase())==null?void 0:R.includes((P=(H=a.vaClDa)==null?void 0:H.toString())==null?void 0:P.toLowerCase()))||((he=(O=n==null?void 0:n.url_2_link)==null?void 0:O.toLowerCase())==null?void 0:he.includes((ve=(_e=a.vaClDa)==null?void 0:_e.toString())==null?void 0:ve.toLowerCase()))}),C.value=_.value.length},re=(t,n)=>{const r=new Date(t);return be(r).format(n)},de=t=>t===1?"high":t===2?"medium":t===3?"low":"N/A",o=async()=>{let t="";te.value&&(t=`?limit=${te.value}`),w.value&&(t+=`&itemid=${w.value}`);const{data:n}=await le(`${Q.API_BASE_URL}tasks/all/${t}`,"$q9Se0lvHCP");u.value=n.value.data,_.value=n.value.data,C.value=n.value.count,K&&ne()},e=async()=>{const t=localStorage.getItem("sometraffic_delete_task"),{data:n,error:r}=await le(`${Q.API_BASE_URL}tasks/delete/${t}`,{method:"GET",params:{id:t}},"$R3X9tSnCbw");n.value&&(h.value=!1,await k.success(n.value.message)),r.value&&(h.value=!1,await k.alert(r.value.statusMessage)),localStorage.removeItem("sometraffic_delete_task"),await o()},i=async t=>{h.value=!0,localStorage.setItem("sometraffic_delete_task",t)};return ge(o),(t,n)=>{const r=me;return J(),X("div",null,[V(v(Ie),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:v(h),"onUpdate:visible":n[0]||(n[0]=l=>xe(h)?h.value=l:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>e()}},{default:F(()=>[Be]),_:1},8,["visible","okButton"]),s("div",Me,[s("h1",ze," Tasks list ("+d(v(C))+") ",1),Z(V(r,{to:`/tasks?id=${v(K)}`},{default:F(()=>[Ne]),_:1},8,["to"]),[[ae,v(se)===!1]]),Z(s("div",je,[s("div",qe,[s("div",Ee,[Z(s("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=l=>v(a).vaClDa=l),class:"px-4 py-2 w-80 border-inherit bg-inherit pr-9 focus:outline-none focus:ring focus:border-blue-600 search",placeholder:"Search...",onKeyup:n[2]||(n[2]=ye(l=>ee(),["enter"]))},null,544),[[Le,v(a).vaClDa]]),s("button",{class:"absolute inset-y-0 right-0 px-2",onClick:n[3]||(n[3]=l=>ue())},Ue)]),s("button",{class:"flex items-center justify-center px-4 border-l bg-blue-700",onClick:n[4]||(n[4]=l=>ne())},He)])],512),[[ae,v(se)===!0]])]),Pe,s("div",Re,[s("table",Oe,[Ve,s("tbody",null,[(J(!0),X($e,null,De(v(_),l=>(J(),X("tr",Fe,[s("td",Ke,[V(r,{to:`/tasks/${l.task_id}?id=${l.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[oe(d(l==null?void 0:l.task_id),1)]),_:2},1032,["to"])]),s("td",Ge,[V(r,{to:`/category-items/${l==null?void 0:l.Category_Item.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[oe(d(l==null?void 0:l.Category_Item.unique_identifier),1)]),_:2},1032,["to"])]),s("td",We,d(l.information.length>90?(l==null?void 0:l.information.slice(0,90))+"...":l==null?void 0:l.information),1),s("td",Je,d(l==null?void 0:l.Category_Item.category),1),s("td",Xe,d(de(l==null?void 0:l.priority)),1),s("td",Ze,d(l==null?void 0:l.status),1),s("td",Qe,d(l.due_date_time?re(l.due_date_time,"YYYY-MM-DD H:mm"):"N/A"),1),s("td",ke,[s("div",we,[V(r,{to:`/tasks/${l.task_id}?id=${l.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[et]),_:2},1032,["to"]),s("span",{onClick:m=>i(l.id),title:"Delete",class:"hover:text-white"},nt,8,tt)])])]))),128))])])])])}}}),ot=s("div",{class:"text"},"Are you sure?",-1),lt={class:"flex justify-between"},it={class:"font-bold py-4 capitalize"},ut={style:{width:"20px","margin-top":"20px"},src:Ae,class:"tasks"},rt={class:"flex items-start"},dt={class:"flex border-2 rounded"},_t={class:"relative"},vt=s("svg",{color:"#000",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),ht=[vt],mt=s("svg",{class:"w-6 h-6 text-slate-50",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})],-1),Ct=[mt],ct=s("div",{class:"flex items-center justify-center"},null,-1),pt={class:"overflow-x-auto"},ft={class:"w-full whitespace-nowrap"},gt=s("thead",{class:"bg-black/60"},[s("tr",null,[s("th",{class:"text-left py-3 px-2"},"Task ID"),s("th",{class:"text-left py-3 px-2"},"Item ID"),s("th",{class:"text-left py-3 px-2"},"Information"),s("th",{class:"text-left py-3 px-2"},"Category"),s("th",{class:"text-left py-3 px-2"},"Priority"),s("th",{class:"text-left py-3 px-2"},"Status"),s("th",{class:"text-left py-3 px-2"},"Due Date"),s("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1),xt={class:"border-b border-gray-700",key:"clickdata.id"},yt={class:"py-3 px-2"},Lt={class:"py-3 px-2"},$t={class:"py-3 px-2"},Dt={class:"py-3 px-2 capitalize"},St={class:"py-3 px-2 capitalize"},bt={class:"py-3 px-2 capitalize"},It={class:"py-3 px-2 capitalize"},At={class:"py-3 px-2"},Bt={class:"inline-flex items-center space-x-3"},Mt=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),zt=["onClick"],Nt=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),jt=[Nt],qt={name:"TasksUnscheduled",props:["limit","showSearch","itemid"]},Ws=Object.assign(qt,{props:{showSearch:Boolean,limit:Number,itemid:Number},setup(W){const ie=W,Q=Se(),k=Ce("$awn"),{id:K}=ce().query,h=G(!1),u=G([]),_=G([]),C=G(0),a=pe({vaClDa:""}),te=()=>{a.vaClDa="",_.value=u.value,C.value=u.value.length},w=()=>{var o;_.value=(o=u==null?void 0:u._value)==null?void 0:o.filter(e=>{var i,t,n,r,l,m,c,p,f,g,x,y,L,$,D,S,b,I,A,B,M,z,N,j,q,E,T,U,Y,H,P,R,O;return((n=e.username.toLowerCase())==null?void 0:n.includes((t=(i=a.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((r=e==null?void 0:e.task_id)==null?void 0:r.includes(a.vaClDa))||((l=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:l.includes(a.vaClDa))||((p=e==null?void 0:e.timestamp)==null?void 0:p.toLowerCase().includes((c=(m=a.vaClDa)==null?void 0:m.toString())==null?void 0:c.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=a.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=a.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((b=e==null?void 0:e.due_date_time)==null?void 0:b.toLowerCase().includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((M=(I=e==null?void 0:e.url_1_txt)==null?void 0:I.toLowerCase())==null?void 0:M.includes((B=(A=a.vaClDa)==null?void 0:A.toString())==null?void 0:B.toLowerCase()))||((q=(z=e==null?void 0:e.url_1_link)==null?void 0:z.toLowerCase())==null?void 0:q.includes((j=(N=a.vaClDa)==null?void 0:N.toString())==null?void 0:j.toLowerCase()))||((Y=(E=e==null?void 0:e.url_2_txt)==null?void 0:E.toLowerCase())==null?void 0:Y.includes((U=(T=a.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(P=a.vaClDa)==null?void 0:P.toString())==null?void 0:R.toLowerCase()))}),C.value=_.value.length},se=()=>{var o;_.value=(o=u==null?void 0:u._value)==null?void 0:o.filter(e=>{var i,t,n,r,l,m,c,p,f,g,x,y,L,$,D,S,b,I,A,B,M,z,N,j,q,E,T,U,Y,H,P,R,O;return((n=e.username.toLowerCase())==null?void 0:n.includes((t=(i=a.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((r=e==null?void 0:e.task_id)==null?void 0:r.includes(a.vaClDa))||((l=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:l.includes(a.vaClDa))||((p=e==null?void 0:e.timestamp)==null?void 0:p.toLowerCase().includes((c=(m=a.vaClDa)==null?void 0:m.toString())==null?void 0:c.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=a.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=a.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((b=e==null?void 0:e.due_date_time)==null?void 0:b.toLowerCase().includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((M=(I=e==null?void 0:e.url_1_txt)==null?void 0:I.toLowerCase())==null?void 0:M.includes((B=(A=a.vaClDa)==null?void 0:A.toString())==null?void 0:B.toLowerCase()))||((q=(z=e==null?void 0:e.url_1_link)==null?void 0:z.toLowerCase())==null?void 0:q.includes((j=(N=a.vaClDa)==null?void 0:N.toString())==null?void 0:j.toLowerCase()))||((Y=(E=e==null?void 0:e.url_2_txt)==null?void 0:E.toLowerCase())==null?void 0:Y.includes((U=(T=a.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(P=a.vaClDa)==null?void 0:P.toString())==null?void 0:R.toLowerCase()))}),C.value=_.value.length},ue=(o,e)=>{const i=new Date(o);return be(i).format(e)},ne=o=>o===1?"high":o===2?"medium":o===3?"low":"N/A",ee=async()=>{const{limit:o,itemid:e}=fe(ie);let i="";o.value&&(i=`&limit=${o.value}`),e.value&&(i+=`&itemid=${e.value}`);const{data:t}=await le(`${Q.API_BASE_URL}tasks/all?status=unscheduled${i}`,"$fkIemg131F");u.value=t.value.data,_.value=t.value.data,C.value=t.value.count,K&&w()},re=async()=>{const o=localStorage.getItem("sometraffic_delete_task"),{data:e,error:i}=await le(`${Q.API_BASE_URL}tasks/delete/${o}`,{method:"GET",params:{id:o}},"$inw7sVKDuY");e.value&&(h.value=!1,await k.success(e.value.message)),i.value&&(h.value=!1,await k.alert(i.value.statusMessage)),localStorage.removeItem("sometraffic_delete_task"),await ee()},de=async o=>{h.value=!0,localStorage.setItem("sometraffic_delete_task",o)};return ge(ee),(o,e)=>{const i=me;return J(),X("div",null,[V(v(Ie),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:v(h),"onUpdate:visible":e[0]||(e[0]=t=>xe(h)?h.value=t:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>re()}},{default:F(()=>[ot]),_:1},8,["visible","okButton"]),s("div",lt,[s("h1",it," Tasks list ("+d(v(C))+") ",1),V(i,{to:`/tasks?id=${v(K)}`},{default:F(()=>[Z(s("img",ut,null,512),[[ae,W.showSearch===!1]])]),_:1},8,["to"]),Z(s("div",rt,[s("div",dt,[s("div",_t,[Z(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>v(a).vaClDa=t),class:"px-4 py-2 w-80 border-inherit bg-inherit pr-9 focus:outline-none focus:ring focus:border-blue-600 search",placeholder:"Search...",onKeyup:e[2]||(e[2]=ye(t=>se(),["enter"]))},null,544),[[Le,v(a).vaClDa]]),s("button",{class:"absolute inset-y-0 right-0 px-2",onClick:e[3]||(e[3]=t=>te())},ht)]),s("button",{class:"flex items-center justify-center px-4 border-l bg-blue-700",onClick:e[4]||(e[4]=t=>w())},Ct)])],512),[[ae,W.showSearch===!0]])]),ct,s("div",pt,[s("table",ft,[gt,s("tbody",null,[(J(!0),X($e,null,De(v(_),t=>(J(),X("tr",xt,[s("td",yt,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[oe(d(t==null?void 0:t.task_id),1)]),_:2},1032,["to"])]),s("td",Lt,[V(i,{to:`/category-items/${t==null?void 0:t.Category_Item.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[oe(d(t==null?void 0:t.Category_Item.unique_identifier),1)]),_:2},1032,["to"])]),s("td",$t,d(t.information.length>90?(t==null?void 0:t.information.slice(0,90))+"...":t==null?void 0:t.information),1),s("td",Dt,d(t==null?void 0:t.Category_Item.category),1),s("td",St,d(ne(t==null?void 0:t.priority)),1),s("td",bt,d(t==null?void 0:t.status),1),s("td",It,d(t.due_date_time?ue(t.due_date_time,"YYYY-MM-DD H:mm"):"N/A"),1),s("td",At,[s("div",Bt,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[Mt]),_:2},1032,["to"]),s("span",{onClick:n=>de(t.id),title:"Delete",class:"hover:text-white"},jt,8,zt)])])]))),128))])])])])}}}),Et=s("div",{class:"text"},"Are you sure?",-1),Tt={class:"flex justify-between"},Ut={class:"font-bold py-4 capitalize"},Yt={style:{width:"20px","margin-top":"20px"},src:Ae,class:"tasks"},Ht={class:"flex items-start"},Pt={class:"flex border-2 rounded"},Rt={class:"relative"},Ot=s("svg",{color:"#000",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),Vt=[Ot],Ft=s("svg",{class:"w-6 h-6 text-slate-50",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})],-1),Kt=[Ft],Gt=s("div",{class:"flex items-center justify-center"},null,-1),Wt={class:"overflow-x-auto"},Jt={class:"w-full whitespace-nowrap"},Xt=s("thead",{class:"bg-black/60"},[s("tr",null,[s("th",{class:"text-left py-3 px-2"},"Task ID"),s("th",{class:"text-left py-3 px-2"},"Item ID"),s("th",{class:"text-left py-3 px-2"},"Information"),s("th",{class:"text-left py-3 px-2"},"Category"),s("th",{class:"text-left py-3 px-2"},"Priority"),s("th",{class:"text-left py-3 px-2"},"Status"),s("th",{class:"text-left py-3 px-2"},"Due Date"),s("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1),Zt={class:"border-b border-gray-700",key:"clickdata.id"},Qt={class:"py-3 px-2"},kt={class:"py-3 px-2"},wt={class:"py-3 px-2"},es={class:"py-3 px-2 capitalize"},ts={class:"py-3 px-2 capitalize"},ss={class:"py-3 px-2 capitalize"},ns={class:"py-3 px-2 capitalize"},as={class:"py-3 px-2"},os={class:"inline-flex items-center space-x-3"},ls=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),is=["onClick"],us=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),rs=[us],ds={name:"TasksUnscheduled",props:["limit","showSearch","itemid"]},Js=Object.assign(ds,{props:{showSearch:Boolean,limit:Number,itemid:Number},setup(W){const ie=W,Q=Se(),k=Ce("$awn"),{id:K}=ce().query,h=G(!1),u=G([]),_=G([]),C=G(0),a=pe({vaClDa:K!==void 0?K:""}),te=()=>{a.vaClDa="",_.value=u.value,C.value=u.value.length},w=()=>{var o;_.value=(o=u==null?void 0:u._value)==null?void 0:o.filter(e=>{var i,t,n,r,l,m,c,p,f,g,x,y,L,$,D,S,b,I,A,B,M,z,N,j,q,E,T,U,Y,H,P,R,O;return((n=e.username.toLowerCase())==null?void 0:n.includes((t=(i=a.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((r=e==null?void 0:e.task_id)==null?void 0:r.includes(a.vaClDa))||((l=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:l.includes(a.vaClDa))||((p=e==null?void 0:e.timestamp)==null?void 0:p.toLowerCase().includes((c=(m=a.vaClDa)==null?void 0:m.toString())==null?void 0:c.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=a.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=a.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((b=e==null?void 0:e.due_date_time)==null?void 0:b.toLowerCase().includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((M=(I=e==null?void 0:e.url_1_txt)==null?void 0:I.toLowerCase())==null?void 0:M.includes((B=(A=a.vaClDa)==null?void 0:A.toString())==null?void 0:B.toLowerCase()))||((q=(z=e==null?void 0:e.url_1_link)==null?void 0:z.toLowerCase())==null?void 0:q.includes((j=(N=a.vaClDa)==null?void 0:N.toString())==null?void 0:j.toLowerCase()))||((Y=(E=e==null?void 0:e.url_2_txt)==null?void 0:E.toLowerCase())==null?void 0:Y.includes((U=(T=a.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(P=a.vaClDa)==null?void 0:P.toString())==null?void 0:R.toLowerCase()))}),C.value=_.value.length},se=()=>{var o;_.value=(o=u==null?void 0:u._value)==null?void 0:o.filter(e=>{var i,t,n,r,l,m,c,p,f,g,x,y,L,$,D,S,b,I,A,B,M,z,N,j,q,E,T,U,Y,H,P,R,O;return((n=e.username.toLowerCase())==null?void 0:n.includes((t=(i=a.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((r=e==null?void 0:e.task_id)==null?void 0:r.includes(a.vaClDa))||((l=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:l.includes(a.vaClDa))||((p=e==null?void 0:e.timestamp)==null?void 0:p.toLowerCase().includes((c=(m=a.vaClDa)==null?void 0:m.toString())==null?void 0:c.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=a.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=a.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((b=e==null?void 0:e.due_date_time)==null?void 0:b.toLowerCase().includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((M=(I=e==null?void 0:e.url_1_txt)==null?void 0:I.toLowerCase())==null?void 0:M.includes((B=(A=a.vaClDa)==null?void 0:A.toString())==null?void 0:B.toLowerCase()))||((q=(z=e==null?void 0:e.url_1_link)==null?void 0:z.toLowerCase())==null?void 0:q.includes((j=(N=a.vaClDa)==null?void 0:N.toString())==null?void 0:j.toLowerCase()))||((Y=(E=e==null?void 0:e.url_2_txt)==null?void 0:E.toLowerCase())==null?void 0:Y.includes((U=(T=a.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(P=a.vaClDa)==null?void 0:P.toString())==null?void 0:R.toLowerCase()))}),C.value=_.value.length},ue=(o,e)=>{const i=new Date(o);return be(i).format(e)},ne=o=>o===1?"high":o===2?"medium":o===3?"low":"N/A",ee=async()=>{const{limit:o,itemid:e}=fe(ie);let i="";o.value&&(i=`&limit=${o.value}`),e.value&&(i+=`&itemid=${e.value}`);const{data:t}=await le(`${Q.API_BASE_URL}tasks/all?status=planned${i}`,"$whEffoFTPP");u.value=t.value.data,_.value=t.value.data,C.value=t.value.count,K&&w()},re=async()=>{const o=localStorage.getItem("sometraffic_delete_task"),{data:e,error:i}=await le(`${Q.API_BASE_URL}tasks/delete/${o}`,{method:"GET",params:{id:o}},"$zHunkZAN1c");e.value&&(h.value=!1,await k.success(e.value.message)),i.value&&(h.value=!1,await k.alert(i.value.statusMessage)),localStorage.removeItem("sometraffic_delete_task"),await ee()},de=async o=>{h.value=!0,localStorage.setItem("sometraffic_delete_task",o)};return ge(ee),(o,e)=>{const i=me;return J(),X("div",null,[V(v(Ie),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:v(h),"onUpdate:visible":e[0]||(e[0]=t=>xe(h)?h.value=t:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>re()}},{default:F(()=>[Et]),_:1},8,["visible","okButton"]),s("div",Tt,[s("h1",Ut," Tasks list ("+d(v(C))+") ",1),V(i,{to:`/tasks?id=${v(K)}`},{default:F(()=>[Z(s("img",Yt,null,512),[[ae,W.showSearch===!1]])]),_:1},8,["to"]),Z(s("div",Ht,[s("div",Pt,[s("div",Rt,[Z(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>v(a).vaClDa=t),class:"px-4 py-2 w-80 border-inherit bg-inherit pr-9 focus:outline-none focus:ring focus:border-blue-600 search",placeholder:"Search...",onKeyup:e[2]||(e[2]=ye(t=>se(),["enter"]))},null,544),[[Le,v(a).vaClDa]]),s("button",{class:"absolute inset-y-0 right-0 px-2",onClick:e[3]||(e[3]=t=>te())},Vt)]),s("button",{class:"flex items-center justify-center px-4 border-l bg-blue-700",onClick:e[4]||(e[4]=t=>w())},Kt)])],512),[[ae,W.showSearch===!0]])]),Gt,s("div",Wt,[s("table",Jt,[Xt,s("tbody",null,[(J(!0),X($e,null,De(v(_),t=>(J(),X("tr",Zt,[s("td",Qt,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[oe(d(t==null?void 0:t.task_id),1)]),_:2},1032,["to"])]),s("td",kt,[V(i,{to:`/category-items/${t==null?void 0:t.Category_Item.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[oe(d(t==null?void 0:t.Category_Item.unique_identifier),1)]),_:2},1032,["to"])]),s("td",wt,d(t.information.length>90?(t==null?void 0:t.information.slice(0,90))+"...":t==null?void 0:t.information),1),s("td",es,d(t==null?void 0:t.Category_Item.category),1),s("td",ts,d(ne(t==null?void 0:t.priority)),1),s("td",ss,d(t==null?void 0:t.status),1),s("td",ns,d(t.due_date_time?ue(t.due_date_time,"YYYY-MM-DD H:mm"):"N/A"),1),s("td",as,[s("div",os,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[ls]),_:2},1032,["to"]),s("span",{onClick:n=>de(t.id),title:"Delete",class:"hover:text-white"},rs,8,is)])])]))),128))])])])])}}}),_s=s("div",{class:"text"},"Are you sure?",-1),vs={class:"flex justify-between"},hs={class:"font-bold py-4 capitalize"},ms={style:{width:"20px","margin-top":"20px"},src:Ae,class:"tasks"},Cs={class:"flex items-start"},cs={class:"flex border-2 rounded"},ps={class:"relative"},fs=s("svg",{color:"#000",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),gs=[fs],xs=s("svg",{class:"w-6 h-6 text-slate-50",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})],-1),ys=[xs],Ls=s("div",{class:"flex items-center justify-center"},null,-1),$s={class:"overflow-x-auto"},Ds={class:"w-full whitespace-nowrap"},Ss=s("thead",{class:"bg-black/60"},[s("tr",null,[s("th",{class:"text-left py-3 px-2"},"Task ID"),s("th",{class:"text-left py-3 px-2"},"Item ID"),s("th",{class:"text-left py-3 px-2"},"Information"),s("th",{class:"text-left py-3 px-2"},"Category"),s("th",{class:"text-left py-3 px-2"},"Priority"),s("th",{class:"text-left py-3 px-2"},"Status"),s("th",{class:"text-left py-3 px-2"},"Due Date"),s("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1),bs={class:"border-b border-gray-700",key:"clickdata.id"},Is={class:"py-3 px-2"},As={class:"py-3 px-2"},Bs={class:"py-3 px-2"},Ms={class:"py-3 px-2 capitalize"},zs={class:"py-3 px-2 capitalize"},Ns={class:"py-3 px-2 capitalize"},js={class:"py-3 px-2 capitalize"},qs={class:"py-3 px-2"},Es={class:"inline-flex items-center space-x-3"},Ts=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Us=["onClick"],Ys=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Hs=[Ys],Ps={name:"TasksUnscheduled",props:["limit","showSearch","itemid"]},Xs=Object.assign(Ps,{props:{showSearch:Boolean,limit:Number,itemid:Number},setup(W){const ie=W,Q=Se(),k=Ce("$awn"),{id:K}=ce().query,h=G(!1),u=G([]),_=G([]),C=G(0),a=pe({vaClDa:K!==void 0?K:""}),te=()=>{a.vaClDa="",_.value=u.value,C.value=u.value.length},w=()=>{var o;_.value=(o=u==null?void 0:u._value)==null?void 0:o.filter(e=>{var i,t,n,r,l,m,c,p,f,g,x,y,L,$,D,S,b,I,A,B,M,z,N,j,q,E,T,U,Y,H,P,R,O;return((n=e.username.toLowerCase())==null?void 0:n.includes((t=(i=a.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((r=e==null?void 0:e.task_id)==null?void 0:r.includes(a.vaClDa))||((l=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:l.includes(a.vaClDa))||((p=e==null?void 0:e.timestamp)==null?void 0:p.toLowerCase().includes((c=(m=a.vaClDa)==null?void 0:m.toString())==null?void 0:c.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=a.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=a.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((b=e==null?void 0:e.due_date_time)==null?void 0:b.toLowerCase().includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((M=(I=e==null?void 0:e.url_1_txt)==null?void 0:I.toLowerCase())==null?void 0:M.includes((B=(A=a.vaClDa)==null?void 0:A.toString())==null?void 0:B.toLowerCase()))||((q=(z=e==null?void 0:e.url_1_link)==null?void 0:z.toLowerCase())==null?void 0:q.includes((j=(N=a.vaClDa)==null?void 0:N.toString())==null?void 0:j.toLowerCase()))||((Y=(E=e==null?void 0:e.url_2_txt)==null?void 0:E.toLowerCase())==null?void 0:Y.includes((U=(T=a.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(P=a.vaClDa)==null?void 0:P.toString())==null?void 0:R.toLowerCase()))}),C.value=_.value.length},se=()=>{var o;_.value=(o=u==null?void 0:u._value)==null?void 0:o.filter(e=>{var i,t,n,r,l,m,c,p,f,g,x,y,L,$,D,S,b,I,A,B,M,z,N,j,q,E,T,U,Y,H,P,R,O;return((n=e.username.toLowerCase())==null?void 0:n.includes((t=(i=a.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((r=e==null?void 0:e.task_id)==null?void 0:r.includes(a.vaClDa))||((l=e==null?void 0:e.Category_Item.unique_identifier)==null?void 0:l.includes(a.vaClDa))||((p=e==null?void 0:e.timestamp)==null?void 0:p.toLowerCase().includes((c=(m=a.vaClDa)==null?void 0:m.toString())==null?void 0:c.toLowerCase()))||((x=e==null?void 0:e.information)==null?void 0:x.toLowerCase().includes((g=(f=a.vaClDa)==null?void 0:f.toString())==null?void 0:g.toLowerCase()))||(($=e==null?void 0:e.status)==null?void 0:$.toLowerCase().includes((L=(y=a.vaClDa)==null?void 0:y.toString())==null?void 0:L.toLowerCase()))||((b=e==null?void 0:e.due_date_time)==null?void 0:b.toLowerCase().includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((M=(I=e==null?void 0:e.url_1_txt)==null?void 0:I.toLowerCase())==null?void 0:M.includes((B=(A=a.vaClDa)==null?void 0:A.toString())==null?void 0:B.toLowerCase()))||((q=(z=e==null?void 0:e.url_1_link)==null?void 0:z.toLowerCase())==null?void 0:q.includes((j=(N=a.vaClDa)==null?void 0:N.toString())==null?void 0:j.toLowerCase()))||((Y=(E=e==null?void 0:e.url_2_txt)==null?void 0:E.toLowerCase())==null?void 0:Y.includes((U=(T=a.vaClDa)==null?void 0:T.toString())==null?void 0:U.toLowerCase()))||((O=(H=e==null?void 0:e.url_2_link)==null?void 0:H.toLowerCase())==null?void 0:O.includes((R=(P=a.vaClDa)==null?void 0:P.toString())==null?void 0:R.toLowerCase()))}),C.value=_.value.length},ue=(o,e)=>{const i=new Date(o);return be(i).format(e)},ne=o=>o===1?"high":o===2?"medium":o===3?"low":"N/A",ee=async()=>{const{limit:o,itemid:e}=fe(ie);let i="";o.value&&(i=`&limit=${o.value}`),e.value&&(i+=`&itemid=${e.value}`);const{data:t}=await le(`${Q.API_BASE_URL}tasks/all?status=history${i}`,"$UC29vmq68U");u.value=t.value.data,_.value=t.value.data,C.value=t.value.count,K&&w()},re=async()=>{const o=localStorage.getItem("sometraffic_delete_task"),{data:e,error:i}=await le(`${Q.API_BASE_URL}tasks/delete/${o}`,{method:"GET",params:{id:o}},"$9CvJ3FHGy8");e.value&&(h.value=!1,await k.success(e.value.message)),i.value&&(h.value=!1,await k.alert(i.value.statusMessage)),localStorage.removeItem("sometraffic_delete_task"),await ee()},de=async o=>{h.value=!0,localStorage.setItem("sometraffic_delete_task",o)};return ge(ee),(o,e)=>{const i=me;return J(),X("div",null,[V(v(Ie),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:v(h),"onUpdate:visible":e[0]||(e[0]=t=>xe(h)?h.value=t:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>re()}},{default:F(()=>[_s]),_:1},8,["visible","okButton"]),s("div",vs,[s("h1",hs," Tasks list ("+d(v(C))+") ",1),V(i,{to:`/tasks?id=${v(K)}`},{default:F(()=>[Z(s("img",ms,null,512),[[ae,W.showSearch===!1]])]),_:1},8,["to"]),Z(s("div",Cs,[s("div",cs,[s("div",ps,[Z(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>v(a).vaClDa=t),class:"px-4 py-2 w-80 border-inherit bg-inherit pr-9 focus:outline-none focus:ring focus:border-blue-600 search",placeholder:"Search...",onKeyup:e[2]||(e[2]=ye(t=>se(),["enter"]))},null,544),[[Le,v(a).vaClDa]]),s("button",{class:"absolute inset-y-0 right-0 px-2",onClick:e[3]||(e[3]=t=>te())},gs)]),s("button",{class:"flex items-center justify-center px-4 border-l bg-blue-700",onClick:e[4]||(e[4]=t=>w())},ys)])],512),[[ae,W.showSearch===!0]])]),Ls,s("div",$s,[s("table",Ds,[Ss,s("tbody",null,[(J(!0),X($e,null,De(v(_),t=>(J(),X("tr",bs,[s("td",Is,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[oe(d(t==null?void 0:t.task_id),1)]),_:2},1032,["to"])]),s("td",As,[V(i,{to:`/category-items/${t==null?void 0:t.Category_Item.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[oe(d(t==null?void 0:t.Category_Item.unique_identifier),1)]),_:2},1032,["to"])]),s("td",Bs,d(t.information.length>90?(t==null?void 0:t.information.slice(0,90))+"...":t==null?void 0:t.information),1),s("td",Ms,d(t==null?void 0:t.Category_Item.category),1),s("td",zs,d(ne(t==null?void 0:t.priority)),1),s("td",Ns,d(t==null?void 0:t.status),1),s("td",js,d(t.due_date_time?ue(t.due_date_time,"YYYY-MM-DD H:mm"):"N/A"),1),s("td",qs,[s("div",Es,[V(i,{to:`/tasks/${t.task_id}?id=${t.Category_Item.id}`,title:"Edit",class:"hover:text-white"},{default:F(()=>[Ts]),_:2},1032,["to"]),s("span",{onClick:n=>de(t.id),title:"Delete",class:"hover:text-white"},Hs,8,Us)])])]))),128))])])])])}}});export{Ae as _,Gs as a,Ws as b,Js as c,Xs as d};
