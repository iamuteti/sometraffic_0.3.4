import{r as d,a as f,b as c,h as e,u as l,t as g,f as _,B as u,C as m,A as p,o as v,L as h}from"./entry.4f8ac3bc.js";import{u as w}from"./fetch.bfbb55d7.js";const x={class:"flex justify-center w-screen items-center"},y={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative w-2/6 mb-6",role:"alert"},k=e("strong",{class:"font-bold"},"Oops, try again! ",-1),M={class:"block sm:inline"},S=e("span",{class:"absolute top-0 bottom-0 right-0 px-4 py-3"},[e("svg",{class:"fill-current h-6 w-6 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("title",null,"Close"),e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})])],-1),B={class:"flex justify-center h-screen w-screen items-center"},C={class:"w-full md:w-1/2 flex flex-col items-center"},E=e("h1",{class:"text-center text-2xl font-bold text-gray-600 mb-6"},"Member's Login",-1),L={class:"w-3/4 mb-6"},T={class:"w-3/4 mb-6"},N={class:"w-3/4 mt-4"},P=["onClick"],O={__name:"login",setup(V){const r=d(null),n=d(null),o=f({email:"",password:""}),b=async()=>{let a={email:o.email,password:o.password};console.log("login form submited",a);const{data:s,error:t}=await w(`${config.API_BASE_URL}auth/signin`,{key:a.email,method:"POST",body:a},"$MnW08vEsNn");if(s.value&&(r.value=!1,localStorage.setItem("user",JSON.stringify(s.value)),localStorage.setItem("authToken",s.value.accessToken),h("/")),t.value){r.value=!0;let i=t.value.statusCode;n.value=i==404?"You didn't have any account":i==401?"Email or Password incorrect!":t.value.statusMessage,console.log("response error",t.value.statusMessage)}};return(a,s)=>(v(),c("div",null,[e("div",x,[l(r)?(v(),c("div",y,[k,e("span",M,g(l(n)),1),S])):_("",!0)]),e("form",{onSubmit:s[2]||(s[2]=p(()=>{},["prevent"]))},[e("div",B,[e("div",C,[E,e("div",L,[u(e("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=t=>l(o).email=t),id:"email",class:"w-full py-4 px-8 text-black bg-slate-200 placeholder:font-semibold rounded hover:ring-1 outline-blue-500",placeholder:"Your Email",required:""},null,512),[[m,l(o).email]])]),e("div",T,[u(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=t=>l(o).password=t),id:"password",class:"w-full py-4 px-8 text-black bg-slate-200 placeholder:font-semibold rounded hover:ring-1 outline-blue-500",placeholder:"Password",required:""},null,512),[[m,l(o).password]])]),e("div",N,[e("button",{onClick:p(b,["prevent"]),class:"py-4 bg-blue-400 w-full rounded text-blue-50 font-bold hover:bg-blue-700"}," Sign in",8,P)])])])],32)]))}};export{O as default};
