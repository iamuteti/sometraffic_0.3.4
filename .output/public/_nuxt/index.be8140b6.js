import{_ as fe}from"./nuxt-link.c6f72093.js";import{p as ye,r as oe,a as xe,M as Le,L as ne,q as be,b as ie,h as s,i as le,e as re,u as r,s as De,t as v,B as Se,C as ke,N as Be,F as je,v as Ae,j as Ie,o as ue,l as Me,y as Te,z as $e,m as Ne}from"./entry.4f8ac3bc.js";import{u as ve}from"./fetch.bfbb55d7.js";import{D as Ue}from"./index.d4c87e0c.js";const u=ae=>(Te("data-v-b67b49de"),ae=ae(),$e(),ae),qe={id:"click_data",class:"shadow sm:rounded-md"},ze=u(()=>s("div",{class:"text"}," There are tasks or information records related to this category item. By deleting this item, they will also be deleted. Deleting can not be undone! Are you sure you want to delete the Category item and related records from the database? ",-1)),Ee={class:"flex justify-between"},Oe={class:"font-bold py-4 capitalize"},Ge={class:"flex items-start"},Ve={class:"flex border-2 rounded"},Fe={class:"relative"},Re=u(()=>s("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),He=[Re],Ke=u(()=>s("svg",{class:"w-6 h-6 text-slate-50",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[s("path",{d:"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"})],-1)),Pe=[Ke],We=u(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),Je=[We],Ye=u(()=>s("div",{class:"flex items-center justify-center"},null,-1)),Qe={class:"overflow-x-auto"},Xe={class:"w-full whitespace-nowrap"},Ze=u(()=>s("thead",{class:"bg-black/60"},[s("tr",null,[s("th",{class:"text-left py-3 px-2"},"Item ID"),s("th",{class:"text-left py-3 px-2"},"Category"),s("th",{class:"text-left py-3 px-2"},"Priority"),s("th",{class:"text-left py-3 px-2"},"Group"),s("th",{class:"text-left py-3 px-2 title-th"},"Title"),s("th",{class:"text-left py-3 px-2 rounded-r-lg"},"Actions")])],-1)),we={class:"border-b border-gray-700",key:"clickdata.id"},et={class:"py-3 px-2"},tt={class:"py-3 px-2 capitalize"},st={class:"py-3 px-2 capitalize"},at={class:"py-3 px-2 capitalize"},ot={class:"py-3 px-2 title-td"},nt={class:"py-3 px-2"},it={class:"inline-flex items-center space-x-3"},lt=u(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)),rt=["onClick"],ut=u(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),dt=[ut],ct={__name:"index",setup(ae){const de=Ie("$awn"),c=oe(!1),l=oe([]),d=oe([]),g=oe(0),a=xe({vaClDa:""}),ce=Ne(),ge=()=>{a.vaClDa="",d.value=l.value,g.value=l.value.length},pe=()=>{var o;d.value=(o=l==null?void 0:l._value)==null?void 0:o.filter(e=>{var i,t,n,_,p,C,h,m,f,y,x,L,b,D,S,k,B,j,A,I,M,T,$,N,U,q,z,E,O,G,V,F,R,H,K,P,W,J,Y,Q,X,Z,w,ee,te,se;return((n=e.username.toLowerCase())==null?void 0:n.includes((t=(i=a.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((_=e==null?void 0:e.unique_identifier)==null?void 0:_.includes(a.vaClDa))||((h=e==null?void 0:e.item_title)==null?void 0:h.toLowerCase().includes((C=(p=a.vaClDa)==null?void 0:p.toString())==null?void 0:C.toLowerCase()))||((x=(m=e==null?void 0:e.category)==null?void 0:m.toLowerCase())==null?void 0:x.includes((y=(f=a.vaClDa)==null?void 0:f.toString())==null?void 0:y.toLowerCase()))||((k=(b=(L=e==null?void 0:e.Users_Group)==null?void 0:L.name)==null?void 0:b.toLowerCase())==null?void 0:k.includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((I=(B=e==null?void 0:e.information)==null?void 0:B.toLowerCase())==null?void 0:I.includes((A=(j=a.vaClDa)==null?void 0:j.toString())==null?void 0:A.toLowerCase()))||((N=(M=e==null?void 0:e.visibility)==null?void 0:M.toLowerCase())==null?void 0:N.includes(($=(T=a.vaClDa)==null?void 0:T.toString())==null?void 0:$.toLowerCase()))||((E=(U=e==null?void 0:e.automatic_status)==null?void 0:U.toLowerCase())==null?void 0:E.includes((z=(q=a.vaClDa)==null?void 0:q.toString())==null?void 0:z.toLowerCase()))||((F=(O=e==null?void 0:e.url_1_txt)==null?void 0:O.toLowerCase())==null?void 0:F.includes((V=(G=a.vaClDa)==null?void 0:G.toString())==null?void 0:V.toLowerCase()))||((P=(R=e==null?void 0:e.url_1_link)==null?void 0:R.toLowerCase())==null?void 0:P.includes((K=(H=a.vaClDa)==null?void 0:H.toString())==null?void 0:K.toLowerCase()))||((Q=(W=e==null?void 0:e.url_2_txt)==null?void 0:W.toLowerCase())==null?void 0:Q.includes((Y=(J=a.vaClDa)==null?void 0:J.toString())==null?void 0:Y.toLowerCase()))||((ee=(X=e==null?void 0:e.url_2_link)==null?void 0:X.toLowerCase())==null?void 0:ee.includes((w=(Z=a.vaClDa)==null?void 0:Z.toString())==null?void 0:w.toLowerCase()))||((se=(te=e==null?void 0:e.plan_frequency)==null?void 0:te.toString())==null?void 0:se.includes(a.vaClDa))}),g.value=d.value.length},Ce=()=>{var o;d.value=(o=l==null?void 0:l._value)==null?void 0:o.filter(e=>{var i,t,n,_,p,C,h,m,f,y,x,L,b,D,S,k,B,j,A,I,M,T,$,N,U,q,z,E,O,G,V,F,R,H,K,P,W,J,Y,Q,X,Z,w,ee,te,se;return((n=e.username.toLowerCase())==null?void 0:n.includes((t=(i=a.vaClDa)==null?void 0:i.toString())==null?void 0:t.toLowerCase()))||((_=e==null?void 0:e.unique_identifier)==null?void 0:_.includes(a.vaClDa))||((h=e==null?void 0:e.item_title)==null?void 0:h.toLowerCase().includes((C=(p=a.vaClDa)==null?void 0:p.toString())==null?void 0:C.toLowerCase()))||((x=(m=e==null?void 0:e.category)==null?void 0:m.toLowerCase())==null?void 0:x.includes((y=(f=a.vaClDa)==null?void 0:f.toString())==null?void 0:y.toLowerCase()))||((k=(b=(L=e==null?void 0:e.Users_Group)==null?void 0:L.name)==null?void 0:b.toLowerCase())==null?void 0:k.includes((S=(D=a.vaClDa)==null?void 0:D.toString())==null?void 0:S.toLowerCase()))||((I=(B=e==null?void 0:e.information)==null?void 0:B.toLowerCase())==null?void 0:I.includes((A=(j=a.vaClDa)==null?void 0:j.toString())==null?void 0:A.toLowerCase()))||((N=(M=e==null?void 0:e.visibility)==null?void 0:M.toLowerCase())==null?void 0:N.includes(($=(T=a.vaClDa)==null?void 0:T.toString())==null?void 0:$.toLowerCase()))||((E=(U=e==null?void 0:e.automatic_status)==null?void 0:U.toLowerCase())==null?void 0:E.includes((z=(q=a.vaClDa)==null?void 0:q.toString())==null?void 0:z.toLowerCase()))||((F=(O=e==null?void 0:e.url_1_txt)==null?void 0:O.toLowerCase())==null?void 0:F.includes((V=(G=a.vaClDa)==null?void 0:G.toString())==null?void 0:V.toLowerCase()))||((P=(R=e==null?void 0:e.url_1_link)==null?void 0:R.toLowerCase())==null?void 0:P.includes((K=(H=a.vaClDa)==null?void 0:H.toString())==null?void 0:K.toLowerCase()))||((Q=(W=e==null?void 0:e.url_2_txt)==null?void 0:W.toLowerCase())==null?void 0:Q.includes((Y=(J=a.vaClDa)==null?void 0:J.toString())==null?void 0:Y.toLowerCase()))||((ee=(X=e==null?void 0:e.url_2_link)==null?void 0:X.toLowerCase())==null?void 0:ee.includes((w=(Z=a.vaClDa)==null?void 0:Z.toString())==null?void 0:w.toLowerCase()))||((se=(te=e==null?void 0:e.plan_frequency)==null?void 0:te.toString())==null?void 0:se.includes(a.vaClDa))}),g.value=d.value.length},_e=async()=>{const{data:o}=await ve(`${ce.API_BASE_URL}category-items/all`,"$U2wNUdWFfJ"),e=o.value.reduce((i,t)=>{let n=t;return t.priority===1?n=Object.assign({},t,{priority:"high"}):t.priority===2?n=Object.assign({},t,{priority:"medium"}):t.priority===3?n=Object.assign({},t,{priority:"low"}):n=Object.assign({},t,{priority:"N/A"}),i.concat(n)},[]);l.value=e,d.value=e,g.value=e.length},he=async o=>{c.value=!0,localStorage.setItem("sometraffic_delete_category",o)},me=async()=>{const o=localStorage.getItem("sometraffic_delete_category"),{data:e,error:i}=await ve(`${ce.API_BASE_URL}category-items/delete/${o}`,{method:"GET",params:{id:o}},"$f2yLIhc8fC");e.value&&(c.value=!1,await de.success(e.value.message)),i.value&&(c.value=!1,await de.alert(i.value.statusMessage)),localStorage.removeItem("sometraffic_delete_category"),await _e()};return Le(()=>{document.addEventListener("keydown",o=>{let e=o.keyCode?o.keyCode:o.which;o.altKey&&e===67&&ne("/category-items/add")})}),be(_e),(o,e)=>{const i=fe;return ue(),ie("div",null,[s("div",qe,[le(r(Ue),{title:"You can NOT undo this action",modalClass:"confirm-modal",visible:r(c),"onUpdate:visible":e[0]||(e[0]=t=>De(c)?c.value=t:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>me()}},{default:re(()=>[ze]),_:1},8,["visible","okButton"]),s("div",Ee,[s("h1",Oe," Category Items list ("+v(r(g))+") ",1),s("button",{type:"button",onClick:e[1]||(e[1]=t=>("navigateTo"in o?o.navigateTo:r(ne))("/category-items/add")),class:"bg-[#bcbcbc] inline-flex justify-center rounded-md border border-transparent pt-3 px-4 mb-2 text-sm font-medium text-black shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Add category item (Alt + C) "),s("div",Ge,[s("div",Ve,[s("div",Fe,[Se(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>r(a).vaClDa=t),class:"px-4 py-2 w-80 border-inherit bg-inherit pr-9 focus:outline-none focus:ring focus:border-blue-600 search",placeholder:"Search...",onKeyup:e[3]||(e[3]=Be(t=>Ce(),["enter"]))},null,544),[[ke,r(a).vaClDa]]),s("button",{class:"absolute inset-y-0 right-0 px-2",onClick:e[4]||(e[4]=t=>ge())},He)]),s("button",{class:"flex items-center justify-center px-4 border-l bg-blue-700",onClick:e[5]||(e[5]=t=>pe())},Pe),s("button",{class:"flex items-center justify-center px-4 border-l border-grey-600 bg-grey-700",onClick:e[6]||(e[6]=t=>("navigateTo"in o?o.navigateTo:r(ne))("/category-items/add"))},Je)])])]),Ye,s("div",Qe,[s("table",Xe,[Ze,s("tbody",null,[(ue(!0),ie(je,null,Ae(r(d),t=>{var n;return ue(),ie("tr",we,[s("td",et,[le(i,{to:`/category-items/${t.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:re(()=>[Me(v(t==null?void 0:t.unique_identifier),1)]),_:2},1032,["to"])]),s("td",tt,v(t==null?void 0:t.category),1),s("td",st,v(t==null?void 0:t.priority),1),s("td",at,v((n=t==null?void 0:t.Users_Group)==null?void 0:n.name),1),s("td",ot,v(t==null?void 0:t.item_title),1),s("td",nt,[s("div",it,[le(i,{to:`/category-items/${t.unique_identifier}`,title:"Edit",class:"hover:text-white"},{default:re(()=>[lt]),_:2},1032,["to"]),s("span",{onClick:_=>he(t.id),title:"Delete",class:"hover:text-white"},dt,8,rt)])])])}),128))])])])])])}}},Ct=ye(ct,[["__scopeId","data-v-b67b49de"]]);export{Ct as default};
